--- a/dmenu.c	2020-12-10 22:40:00.960028151 +0000
+++ b/dmenu.c	2020-12-10 23:04:36.250038756 +0000
@@ -85,7 +85,10 @@
 	for (int i = 0; i < length; i++) {
 		int len1 = strlen(list[i]);
 		int len2 = strlen(item);
-		if (fstrncmp(list[i], item, len1 > len2 ? len2 : len1) == 0)
+    if (len1 != len2) {
+        return 0;
+    }
+    else if (fstrncmp(list[i], item, len1) == 0)
 			return 1;
 	}
 	return 0;
